<%- include('template/admin-header', { page: 'admin-faq'}); %> 
<div class="container">
  <h2 class="my-3">FAQ 新增</h2>
  <form action="/add-faq" method="POST">
    <div class="form-row">
      <div class="col-12 col-md-2 mb-3">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">Q</span>
          </div>
          <input class="form-control" type="number" name="order" id="order" placeholder="順序" required />
        </div>
      </div>
      <div class="col-12 col-md-10 mb-3">
        <input class="form-control mb-3" type="text" name="question" id="question" placeholder="問題" required />
        <textarea class="form-control" name="answer" id="answer" placeholder="回答"required></textarea>
      </div>
    </div>
    <div class="text-right">
      <input type="submit" class="btn btn-primary" value="新增" />
    </div>
  </form>
  <% if (questions) { questions.forEach(question => { %>
    <hr class="my-3" />
    <div class="row justify-content-between mb-3">
      <h2 class="col-auto">Q<%= question.order %></h2>
      <div class="col-auto">
        <form action="/delete-menu" method="POST">
          <input type="hidden" name="id" id="id" value="<%= question.id %>" />
          <button class="btn btn-outline-danger">刪除</button>
        </form>
      </div>
    </div>
    <form action="/update-faq" method="POST">
      <div class="form-row">
        <div class="col-12 col-md-2 mb-3">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">Q</span>
            </div>
            <input class="form-control" type="number" name="order" id="order" value="<%= question.order %>" placeholder="順序" required />
          </div>
        </div>
        <div class="col-12 col-md-10 mb-3">
          <input class="form-control mb-3" type="text" name="question" id="question" value="<%= question.question %>" placeholder="問題" required />
          <textarea class="form-control" name="answer" id="answer" placeholder="回答"required><%= question.answer %></textarea>
        </div>
      </div>
      <div class="text-right">
        <input type="hidden" name="id" id="id" value="<%= question.id %>" />
        <input type="submit" class="btn btn-secondary" value="儲存" />
      </div>
    </form>
  <% }); } %> 
</div>
<%- include('template/admin-footer', { page: 'admin-faq'}); %> 
